/*! For license information please see duckdb-browser-coi.pthread.worker.d1542c3827f7fbc77674.js.LICENSE.txt */
"use strict";(()=>{var La=Object.create,Dt=Object.defineProperty,Oa=Object.getOwnPropertyDescriptor,Pa=Object.getOwnPropertyNames,Ba=Object.getPrototypeOf,Na=Object.prototype.hasOwnProperty,ot=(r=function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')},typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r),r,Wa=(e,t)=>()=>(e&&(t=e(e=0)),t),jt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ya=(e,t)=>{for(var r in t)Dt(e,r,{get:t[r],enumerable:!0})},Xa=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of Pa(t))!Na.call(e,i)&&i!==r&&Dt(e,i,{get:()=>t[i],enumerable:!(n=Oa(t,i))||n.enumerable});return e},st=(e,t,r)=>(r=null!=e?La(Ba(e)):{},Xa(!t&&e&&e.__esModule?r:Dt(r,"default",{value:e,enumerable:!0}),e)),Mn=jt((()=>{})),In=jt((()=>{})),Hn={};Ya(Hn,{default:()=>Mt});var ze,Ga,Mt,It=Wa((()=>{ze={},Ga=(()=>{var e=ze.url;return async function(t={}){function r(){return H.buffer!=L.buffer&&$(),L}function n(){return H.buffer!=L.buffer&&$(),O}function i(){return H.buffer!=L.buffer&&$(),D}function a(){return H.buffer!=L.buffer&&$(),x}function o(){return H.buffer!=L.buffer&&$(),N}function s(){return H.buffer!=L.buffer&&$(),W}function l(){return H.buffer!=L.buffer&&$(),B}var u,c,d=typeof t<"u"?t:{};d.ready=new Promise((function(e,t){u=e,c=t})),["_main","_malloc","_free","_duckdb_web_clear_response","_duckdb_web_collect_file_stats","_duckdb_web_connect","_duckdb_web_copy_file_to_buffer","_duckdb_web_copy_file_to_path","_duckdb_web_disconnect","_duckdb_web_export_file_stats","_duckdb_web_fail_with","_duckdb_web_flush_file","_duckdb_web_flush_files","_duckdb_web_fs_drop_file","_duckdb_web_fs_drop_files","_duckdb_web_fs_get_file_info_by_id","_duckdb_web_fs_get_file_info_by_name","_duckdb_web_fs_glob_add_path","_duckdb_web_fs_glob_file_infos","_duckdb_web_fs_register_file_buffer","_duckdb_web_fs_register_file_url","_duckdb_web_get_feature_flags","_duckdb_web_get_global_file_info","_duckdb_web_get_tablenames","_duckdb_web_get_version","_duckdb_web_insert_arrow_from_ipc_stream","_duckdb_web_insert_csv_from_path","_duckdb_web_insert_json_from_path","_duckdb_web_open","_duckdb_web_pending_query_cancel","_duckdb_web_pending_query_poll","_duckdb_web_pending_query_start","_duckdb_web_prepared_close","_duckdb_web_prepared_create","_duckdb_web_prepared_run","_duckdb_web_prepared_send","_duckdb_web_query_fetch_results","_duckdb_web_query_run","_duckdb_web_reset","_duckdb_web_tokenize","_duckdb_web_udf_scalar_create","__emscripten_thread_init","__emscripten_thread_exit","__emscripten_thread_crashed","__emscripten_thread_mailbox_await","__emscripten_tls_init","_pthread_self","checkMailbox","establishStackSpace","invokeEntryPoint","PThread","getExceptionMessage","___get_exception_message","___cpp_exception","___cxa_increment_exception_refcount","___cxa_decrement_exception_refcount","___thrown_object_from_unwind_exception","_fflush","__emscripten_check_mailbox","onRuntimeInitialized"].forEach((e=>{Object.getOwnPropertyDescriptor(d.ready,e)||Object.defineProperty(d.ready,e,{get:()=>we("You are getting "+e+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js"),set:()=>we("You are setting "+e+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js")})}));var _=Object.assign({},d),f="./this.program",h=(e,t)=>{throw t},p="object"==typeof window,b="function"==typeof importScripts,m="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,y=!p&&!m&&!b;if(d.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");var g,w,E,v=d.ENVIRONMENT_IS_PTHREAD||!1,S="";function A(e){return d.locateFile?d.locateFile(e,S):S+e}if(m)throw typeof process>"u"||process.release,new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");if(y){if("object"==typeof process&&"function"==typeof w||"object"==typeof window||"function"==typeof importScripts)throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");g=function(e){let t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(t=read(e,"binary"),P("object"==typeof t),t)},typeof clearTimeout>"u"&&(globalThis.clearTimeout=e=>{}),typeof scriptArgs<"u"&&scriptArgs,"function"==typeof quit&&(h=(e,t)=>{throw setTimeout((()=>{if(!(t instanceof De)){let e=t;t&&"object"==typeof t&&t.stack&&(e=[t,t.stack]),I("exiting due to exception: "+e)}quit(e)})),t}),typeof print<"u"&&(typeof console>"u"&&(console={}),console.log=print,console.warn=console.error=typeof printErr<"u"?printErr:print)}else{if(!p&&!b)throw new Error("environment detection error");if(b?S=self.location.href:typeof document<"u"&&document.currentScript&&(S=document.currentScript.src),e&&(S=e),S=0!==S.indexOf("blob:")?S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):"","object"!=typeof window&&"function"!=typeof importScripts)throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");m||b&&(g=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})}m&&typeof performance>"u"&&(global.performance=w("perf_hooks").performance);var k=console.log.bind(console),T=console.warn.bind(console);m&&(k=e=>E.writeSync(1,e+"\n"),T=e=>E.writeSync(2,e+"\n"));var C,R=d.print||k,I=d.printErr||T;Object.assign(d,_),_=null,An(),d.arguments&&d.arguments,He("arguments","arguments_"),d.thisProgram&&(f=d.thisProgram),He("thisProgram","thisProgram"),d.quit&&(h=d.quit),He("quit","quit_"),P(typeof d.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),P(typeof d.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),P(typeof d.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),P(typeof d.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),P(typeof d.read>"u","Module.read option was removed (modify read_ in JS)"),P(typeof d.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),P(typeof d.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),P(typeof d.setWindowTitle>"u","Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),P(typeof d.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),He("read","read_"),He("readAsync","readAsync"),He("readBinary","readBinary"),He("setWindowTitle","setWindowTitle"),P(p||b||m,"Pthreads do not work in this environment yet (need Web Workers, or an alternative to them)"),P(!y,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable."),d.wasmBinary&&(C=d.wasmBinary),He("wasmBinary","wasmBinary");var j=d.noExitRuntime||!0;He("noExitRuntime","noExitRuntime"),"object"!=typeof WebAssembly&&we("no native wasm support detected");var H,M,F,U=!1;function P(e,t){e||we("Assertion failed"+(t?": "+t:""))}var L,O,D,x,N,W,B,Y=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function X(e,t,r){for(var n=(t>>>=0)+r,i=t;e[i]&&!(i>=n);)++i;if(i-t>16&&e.buffer&&Y)return Y.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,i):e.subarray(t,i));for(var a="";t<i;){var o=e[t++];if(128&o){var s=63&e[t++];if(192!=(224&o)){var l=63&e[t++];if(224==(240&o)?o=(15&o)<<12|s<<6|l:(240!=(248&o)&&dt("Invalid UTF-8 leading byte "+Ve(o)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),o=(7&o)<<18|s<<12|l<<6|63&e[t++]),o<65536)a+=String.fromCharCode(o);else{var u=o-65536;a+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else a+=String.fromCharCode((31&o)<<6|s)}else a+=String.fromCharCode(o)}return a}function q(e,t){return P("number"==typeof e),(e>>>=0)?X(n(),e,t):""}function z(e,t,r,n){if(!(n>0))return 0;for(var i=r>>>=0,a=r+n-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)),s<=127){if(r>=a)break;t[r++>>>0]=s}else if(s<=2047){if(r+1>=a)break;t[r++>>>0]=192|s>>6,t[r++>>>0]=128|63&s}else if(s<=65535){if(r+2>=a)break;t[r++>>>0]=224|s>>12,t[r++>>>0]=128|s>>6&63,t[r++>>>0]=128|63&s}else{if(r+3>=a)break;s>1114111&&dt("Invalid Unicode code point "+Ve(s)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),t[r++>>>0]=240|s>>18,t[r++>>>0]=128|s>>12&63,t[r++>>>0]=128|s>>6&63,t[r++>>>0]=128|63&s}}return t[r>>>0]=0,r-i}function G(e,t,r){return P("number"==typeof r,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),z(e,n(),t,r)}function K(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t}function $(){var e=H.buffer;d.HEAP8=L=new Int8Array(e),d.HEAP16=D=new Int16Array(e),d.HEAP32=N=new Int32Array(e),d.HEAPU8=O=new Uint8Array(e),d.HEAPU16=x=new Uint16Array(e),d.HEAPU32=W=new Uint32Array(e),d.HEAPF32=new Float32Array(e),d.HEAPF64=B=new Float64Array(e)}P(!d.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),P(typeof Int32Array<"u"&&typeof Float64Array<"u"&&null!=Int32Array.prototype.subarray&&null!=Int32Array.prototype.set,"JS engine does not provide full typed array support");var V,J=d.INITIAL_MEMORY||16777216;if(He("INITIAL_MEMORY","INITIAL_MEMORY"),P(J>=65536,"INITIAL_MEMORY should be larger than STACK_SIZE, was "+J+"! (STACK_SIZE=65536)"),v)H=d.wasmMemory;else if(d.wasmMemory)H=d.wasmMemory;else if(!((H=new WebAssembly.Memory({initial:J/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw I("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),m&&I("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");function Q(){var e=Nn();P(0==(3&e)),0==e&&(e+=4),s()[e>>>2]=34821223,s()[e+4>>>2]=2310721022,s()[0]=1668509029}function Z(){if(!U){var e=Nn();0==e&&(e+=4);var t=s()[e>>>2],r=s()[e+4>>>2];(34821223!=t||2310721022!=r)&&we("Stack overflow! Stack cookie has been overwritten at "+Ve(e)+", expected hex dwords 0x89BACDFE and 0x2135467, but received "+Ve(r)+" "+Ve(t)),1668509029!==s()[0]&&we("Runtime error: The application has corrupted its heap memory area (address zero)!")}}$(),P((J=H.buffer.byteLength)%65536==0),function(){var e=new Int16Array(1),t=new Int8Array(e.buffer);if(e[0]=25459,115!==t[0]||99!==t[1])throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"}();var ee=[],te=[],re=[],ne=[],ie=!1,ae=0;function oe(){return j||ae>0}function se(){if(P(!v),d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)de(d.preRun.shift());Ze(ee)}function le(){P(!ie),ie=!0,!v&&(Z(),Ze(te))}function ue(){Z(),!v&&Ze(re)}function ce(){if(Z(),!v){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)fe(d.postRun.shift());Ze(ne)}}function de(e){ee.unshift(e)}function _e(e){te.unshift(e)}function fe(e){ne.unshift(e)}P(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),P(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),P(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),P(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var he=0,pe=null,be=null,me={};function ye(e){he++,d.monitorRunDependencies&&d.monitorRunDependencies(he),e?(P(!me[e]),me[e]=1,null===pe&&typeof setInterval<"u"&&(pe=setInterval((function(){if(U)return clearInterval(pe),void(pe=null);var e=!1;for(var t in me)e||(e=!0,I("still waiting on run dependencies:")),I("dependency: "+t);e&&I("(end of list)")}),1e4))):I("warning: run dependency added without ID")}function ge(e){if(he--,d.monitorRunDependencies&&d.monitorRunDependencies(he),e?(P(me[e]),delete me[e]):I("warning: run dependency removed without ID"),0==he&&(null!==pe&&(clearInterval(pe),pe=null),be)){var t=be;be=null,t()}}function we(e){d.onAbort&&d.onAbort(e),I(e="Aborted("+e+")"),U=!0,F=1,ie&&Wn();var t=new WebAssembly.RuntimeError(e);throw c(t),t}var Ee,ve="data:application/octet-stream;base64,";function Se(e){return e.startsWith(ve)}function Ae(e){return e.startsWith("file://")}function ke(e,t){return function(){var r=e,n=t;return t||(n=d.asm),P(ie,"native function `"+r+"` called before runtime initialization"),n[e]||P(n[e],"exported native function `"+r+"` not found"),n[e].apply(null,arguments)}}function Te(e){try{if(e==Ee&&C)return new Uint8Array(C);if(g)return g(e);throw"both async and sync fetching of the wasm failed"}catch(e){we(e)}}function Ce(e){return C||!p&&!b||"function"!=typeof fetch?Promise.resolve().then((function(){return Te(e)})):fetch(e,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()})).catch((function(){return Te(e)}))}function Re(e,t,r){return Ce(e).then((function(e){return WebAssembly.instantiate(e,t)})).then((function(e){return e})).then(r,(function(e){I("failed to asynchronously prepare wasm: "+e),Ae(Ee)&&I("warning: Loading from a file URI ("+Ee+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing"),we(e)}))}function Ie(e,t,r,n){return e||"function"!=typeof WebAssembly.instantiateStreaming||Se(t)||m||"function"!=typeof fetch?Re(t,r,n):fetch(t,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(n,(function(e){return I("wasm streaming compile failed: "+e),I("falling back to ArrayBuffer instantiation"),Re(t,r,n)}))}))}function je(){var e={env:kn,wasi_snapshot_preview1:kn};function t(e,t){var r=e.exports;return d.asm=r,ct(d.asm._emscripten_tls_init),P(V=d.asm.__indirect_function_table,"table not found in wasm exports"),_e(d.asm.__wasm_call_ctors),M=t,Qe.loadWasmModuleToAllWorkers((()=>ge("wasm-instantiate"))),r}ye("wasm-instantiate");var r=d;if(d.instantiateWasm)try{return d.instantiateWasm(e,t)}catch(e){I("Module.instantiateWasm callback failed with error: "+e),c(e)}return Ie(C,Ee,e,(function(e){P(d===r,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),r=null,t(e.instance,e.module)})).catch(c),{}}function He(e,t){Object.getOwnPropertyDescriptor(d,e)||Object.defineProperty(d,e,{configurable:!0,get:function(){we("Module."+e+" has been replaced with plain "+t+" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)")}})}function Me(e){Object.getOwnPropertyDescriptor(d,e)&&we("`Module."+e+"` was supplied but `"+e+"` not included in INCOMING_MODULE_JS_API")}function Fe(e){return"FS_createPath"===e||"FS_createDataFile"===e||"FS_createPreloadedFile"===e||"FS_unlink"===e||"addRunDependency"===e||"FS_createLazyFile"===e||"FS_createDevice"===e||"removeRunDependency"===e}function Ue(e,t){typeof globalThis<"u"&&Object.defineProperty(globalThis,e,{configurable:!0,get:function(){dt("`"+e+"` is not longer defined by emscripten. "+t)}})}function Pe(e){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,e)&&Object.defineProperty(globalThis,e,{configurable:!0,get:function(){var t="`"+e+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line",r=e;r.startsWith("_")||(r="$"+e),t+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE="+r+")",Fe(e)&&(t+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),dt(t)}}),Le(e)}function Le(e){Object.getOwnPropertyDescriptor(d,e)||Object.defineProperty(d,e,{configurable:!0,get:function(){var t="'"+e+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the FAQ)";Fe(e)&&(t+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),we(t)}})}function Oe(e){m?E.writeSync(2,e+"\n"):console.error(e)}function De(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function xe(e){e.terminate(),e.onmessage=t=>{var r=t.data.cmd;I('received "'+r+'" command from terminated worker: '+e.workerID)}}function Ne(e){P(!v,"Internal Error! killThread() can only ever be called from main application thread!"),P(e,"Internal Error! Null pthread_ptr in killThread!");var t=Qe.pthreads[e];delete Qe.pthreads[e],xe(t),Un(e),Qe.runningWorkers.splice(Qe.runningWorkers.indexOf(t),1),t.pthread_ptr=0}function We(e){P(!v,"Internal Error! cancelThread() can only ever be called from main application thread!"),P(e,"Internal Error! Null pthread_ptr in cancelThread!"),Qe.pthreads[e].postMessage({cmd:"cancel"})}function Be(e){P(!v,"Internal Error! cleanupThread() can only ever be called from main application thread!"),P(e,"Internal Error! Null pthread_ptr in cleanupThread!");var t=Qe.pthreads[e];P(t),Qe.returnWorkerToPool(t)}function Ye(e,t){return n().fill(0,e,e+t),e}function Xe(e){P(!v,"Internal Error! spawnThread() can only ever be called from main application thread!"),P(e.pthread_ptr,"Internal error, no pthread ptr!");var t=Qe.getNewWorker();if(!t)return 6;P(!t.pthread_ptr,"Internal error!"),Qe.runningWorkers.push(t),Qe.pthreads[e.pthread_ptr]=t,t.pthread_ptr=e.pthread_ptr;var r={cmd:"run",start_routine:e.startRoutine,arg:e.arg,pthread_ptr:e.pthread_ptr};return m&&t.ref(),t.postMessage(r,e.transferList),0}d.locateFile?Se(Ee="./duckdb-coi.wasm")||(Ee=A(Ee)):Ee=new URL("./duckdb-coi.wasm",ze.url).href,Ue("buffer","Please use HEAP8.buffer or wasmMemory.buffer");var qe={varargs:void 0,get:function(){return P(null!=qe.varargs),qe.varargs+=4,o()[qe.varargs-4>>>2]},getStr:function(e){return q(e)}};function Ge(e){if(v)return xr(1,1,e);F=e,oe()||(Qe.terminateAllThreads(),d.onExit&&d.onExit(e),U=!0),h(e,new De(e))}function Ke(e,t){if(F=e,ri(),v)throw P(!t),nt(e),"unwind";if(oe()&&!t){var r="program exited (with status: "+e+"), but keepRuntimeAlive() is set (counter="+ae+") due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)";c(r),I(r)}Ge(e)}var $e=Ke;function Ve(e){return P("number"==typeof e),"0x"+e.toString(16).padStart(8,"0")}function Je(e){if(e instanceof De||"unwind"==e)return F;Z(),e instanceof WebAssembly.RuntimeError&&Gn()<=0&&I("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 65536)"),h(1,e)}var Qe={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},nextWorkerID:1,debugInit:function(){var e=Oe;Oe=t=>e(function(){var e=0;return ie&&typeof Cn<"u"&&(e=Cn()),"w:"+(d.workerID||0)+",t:"+Ve(e)+": "}()+t)},init:function(){Qe.debugInit(),v?Qe.initWorker():Qe.initMainThread()},initMainThread:function(){for(var e=4;e--;)Qe.allocateUnusedWorker()},initWorker:function(){j=!1},setExitStatus:function(e){F=e},terminateAllThreads__deps:["$terminateWorker"],terminateAllThreads:function(){for(var e of(P(!v,"Internal Error! terminateAllThreads() can only ever be called from main application thread!"),Qe.runningWorkers))xe(e);for(var e of Qe.unusedWorkers)xe(e);Qe.unusedWorkers=[],Qe.runningWorkers=[],Qe.pthreads=[]},returnWorkerToPool:function(e){var t=e.pthread_ptr;delete Qe.pthreads[t],Qe.unusedWorkers.push(e),Qe.runningWorkers.splice(Qe.runningWorkers.indexOf(e),1),e.pthread_ptr=0,m&&e.unref(),Un(t)},receiveObjectTransfer:function(e){},threadInitTLS:function(){Qe.tlsInitFunctions.forEach((e=>e()))},loadWasmModuleToWorker:e=>new Promise((t=>{e.onmessage=r=>{var n=r.data,i=n.cmd;if(e.pthread_ptr&&(Qe.currentProxiedOperationCallerThread=e.pthread_ptr),n.targetThread&&n.targetThread!=Cn()){var a=Qe.pthreads[n.targetThread];return a?a.postMessage(n,n.transferList):I('Internal error! Worker sent a message "'+i+'" to target pthread '+n.targetThread+", but that thread no longer exists!"),void(Qe.currentProxiedOperationCallerThread=void 0)}"checkMailbox"===i?sr():"spawnThread"===i?Xe(n):"cleanupThread"===i?Be(n.thread):"killThread"===i?Ne(n.thread):"cancelThread"===i?We(n.thread):"loaded"===i?(e.loaded=!0,m&&!e.pthread_ptr&&e.unref(),t(e)):"print"===i?R("Thread "+n.threadId+": "+n.text):"printErr"===i?I("Thread "+n.threadId+": "+n.text):"alert"===i?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"callHandler"===i?d[n.handler](...n.args):i&&I("worker sent an unknown command "+i),Qe.currentProxiedOperationCallerThread=void 0},e.onerror=t=>{var r="worker sent an error!";throw e.pthread_ptr&&(r="Pthread "+Ve(e.pthread_ptr)+" sent an error!"),I(r+" "+t.filename+":"+t.lineno+": "+t.message),t},m&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){}))),P(H instanceof WebAssembly.Memory,"WebAssembly memory should have been loaded by now!"),P(M instanceof WebAssembly.Module,"WebAssembly Module should have been loaded by now!");var r=[];for(var n of["onExit","onAbort","print","printErr"])d.hasOwnProperty(n)&&r.push(n);e.workerID=Qe.nextWorkerID++,e.postMessage({cmd:"load",handlers:r,urlOrBlob:d.mainScriptUrlOrBlob,wasmMemory:H,wasmModule:M,workerID:e.workerID})})),loadWasmModuleToAllWorkers:function(e){if(v)return e();Promise.all(Qe.unusedWorkers.map(Qe.loadWasmModuleToWorker)).then(e)},allocateUnusedWorker:function(){var e;if(d.locateFile){var t=A("duckdb_wasm.worker.js");e=new Worker(t)}else e=new Worker(new URL("duckdb_wasm.worker.js",ze.url));Qe.unusedWorkers.push(e)},getNewWorker:function(){return 0==Qe.unusedWorkers.length&&(m||I("Tried to spawn a new thread, but the thread pool is exhausted.\nThis might result in a deadlock unless some threads eventually exit or the code explicitly breaks out to the event loop.\nIf you want to increase the pool size, use setting `-sPTHREAD_POOL_SIZE=...`.\nIf you want to throw an explicit error instead of the risk of deadlocking in those cases, use setting `-sPTHREAD_POOL_SIZE_STRICT=2`."),Qe.allocateUnusedWorker(),Qe.loadWasmModuleToWorker(Qe.unusedWorkers[0])),Qe.unusedWorkers.pop()}};function Ze(e){for(;e.length>0;)e.shift()(d)}function et(){return d.asm.__cpp_exception}function tt(e){var t=e.getArg(et(),0);return Kn(t)}function rt(){var e=Cn(),t=o()[e+52>>>2],r=t-o()[e+56>>>2];P(0!=t),P(0!=r),P(t>r,"stackTop must be higher then stackMax"),Yn(t,r),qn(t),Q()}function nt(e){if(v)return xr(2,0,e);$e(e)}function it(e){var t=Xn(),r=e();return qn(t),r}function at(e){return it((function(){var t=zn(4),r=zn(4);$n(e,t,r);var n,i=s()[t>>>2],a=s()[r>>>2],o=q(i);return xn(i),a&&(n=q(a),xn(a)),[o,n]}))}function ot(e){return at(tt(e))}d.PThread=Qe,d.establishStackSpace=rt,d.getExceptionMessage=ot;var st=[];function lt(e){var t=st[e];return t||(e>=st.length&&(st.length=e+1),st[e]=t=V.get(e)),P(V.get(e)==t,"JavaScript-side Wasm function table mirror is out of date!"),t}function ut(e,t){var r=lt(e)(t);Z(),oe()?Qe.setExitStatus(r):Pn(r)}function ct(e){Qe.tlsInitFunctions.push(e)}function dt(e){dt.shown||(dt.shown={}),dt.shown[e]||(dt.shown[e]=1,m&&(e="warning: "+e),I(e))}function _t(e,t,r,n){we("Assertion failed: "+q(e)+", at: "+[t?q(t):"unknown filename",r,n?q(n):"unknown function"])}function ft(e,t){lt(e)(t)}d.invokeEntryPoint=ut;var ht="To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking";function pt(e,t){we(ht)}function bt(e){Rn(e,!b,1,!p),Qe.threadInitTLS()}function mt(e){v?postMessage({cmd:"cleanupThread",thread:e}):Be(e)}function yt(e,t,r,n){return v?xr(3,1,e,t,r,n):gt(e,t,r,n)}function gt(e,t,r,n){if(typeof SharedArrayBuffer>"u")return I("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var i=[];if(v&&0===i.length)return yt(e,t,r,n);var a={startRoutine:r,pthread_ptr:e,arg:n,transferList:i};return v?(a.cmd="spawnThread",postMessage(a,i),0):Xe(a)}function wt(e,t,r,n,i){if(v)return xr(4,1,e,t,r,n,i);P(e<=64,"nfds must be less than or equal to 64"),P(!n,"exceptfds not supported");for(var a=0,s=t?o()[t>>>2]:0,l=t?o()[t+4>>>2]:0,u=r?o()[r>>>2]:0,c=r?o()[r+4>>>2]:0,d=n?o()[n>>>2]:0,_=n?o()[n+4>>>2]:0,f=0,h=0,p=0,b=0,m=0,y=0,g=(t?o()[t>>>2]:0)|(r?o()[r>>>2]:0)|(n?o()[n>>>2]:0),w=(t?o()[t+4>>>2]:0)|(r?o()[r+4>>>2]:0)|(n?o()[n+4>>>2]:0),E=function(e,t,r,n){return e<32?t&n:r&n},S=0;S<e;S++){var A=1<<S%32;if(E(S,g,w,A)){var k=qe.getStreamFromFD(S),T=qe.DEFAULT_POLLMASK;k.stream_ops.poll&&(T=k.stream_ops.poll(k)),1&T&&E(S,s,l,A)&&(S<32?f|=A:h|=A,a++),4&T&&E(S,u,c,A)&&(S<32?p|=A:b|=A,a++),2&T&&E(S,d,_,A)&&(S<32?m|=A:y|=A,a++)}}return t&&(o()[t>>>2]=f,o()[t+4>>>2]=h),r&&(o()[r>>>2]=p,o()[r+4>>>2]=b),n&&(o()[n>>>2]=m,o()[n+4>>>2]=y),a}function Et(){I("missing function: $SOCKFS"),we(-1)}function vt(){I("missing function: $FS"),we(-1)}function St(e){var t=Et.getSocket(e);if(!t)throw new vt.ErrnoError(8);return t}function At(e){return(255&e)+"."+(e>>8&255)+"."+(e>>16&255)+"."+(e>>24&255)}function kt(e){var t="",r=0,n=0,i=0,a=0,o=0,s=0,l=[65535&e[0],e[0]>>16,65535&e[1],e[1]>>16,65535&e[2],e[2]>>16,65535&e[3],e[3]>>16],u=!0,c="";for(s=0;s<5;s++)if(0!==l[s]){u=!1;break}if(u){if(c=At(l[6]|l[7]<<16),-1===l[5])return(t="::ffff:")+c;if(0===l[5])return"0.0.0.0"===c&&(c=""),"0.0.0.1"===c&&(c="1"),(t="::")+c}for(r=0;r<8;r++)0===l[r]&&(r-i>1&&(o=0),i=r,o++),o>n&&(a=r-(n=o)+1);for(r=0;r<8;r++)n>1&&0===l[r]&&r>=a&&r<a+n?r===a&&(t+=":",0===a&&(t+=":")):(t+=Number(Fn(65535&l[r])).toString(16),t+=r<7?":":"");return t}function Tt(e,t){var r,n=i()[e>>>1],s=Fn(a()[e+2>>>1]);switch(n){case 2:if(16!==t)return{errno:28};r=At(r=o()[e+4>>>2]);break;case 10:if(28!==t)return{errno:28};r=kt(r=[o()[e+8>>>2],o()[e+12>>>2],o()[e+16>>>2],o()[e+20>>>2]]);break;default:return{errno:5}}return{family:n,addr:r,port:s}}function Ct(e){for(var t=e.split("."),r=0;r<4;r++){var n=Number(t[r]);if(isNaN(n))return null;t[r]=n}return(t[0]|t[1]<<8|t[2]<<16|t[3]<<24)>>>0}function Rt(e){return parseInt(e)}function It(e){var t,r,n,i,a=[];if(!/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i.test(e))return null;if("::"===e)return[0,0,0,0,0,0,0,0];for((e=e.startsWith("::")?e.replace("::","Z:"):e.replace("::",":Z:")).indexOf(".")>0?((t=(e=e.replace(new RegExp("[.]","g"),":")).split(":"))[t.length-4]=Rt(t[t.length-4])+256*Rt(t[t.length-3]),t[t.length-3]=Rt(t[t.length-2])+256*Rt(t[t.length-1]),t=t.slice(0,t.length-2)):t=e.split(":"),n=0,i=0,r=0;r<t.length;r++)if("string"==typeof t[r])if("Z"===t[r]){for(i=0;i<8-t.length+1;i++)a[r+i]=0;n=i-1}else a[r+n]=Hn(parseInt(t[r],16));else a[r+n]=t[r];return[a[1]<<16|a[0],a[3]<<16|a[2],a[5]<<16|a[4],a[7]<<16|a[6]]}var jt={address_map:{id:1,addrs:{},names:{}},lookup_name:function(e){var t,r=Ct(e);if(null!==r||null!==(r=It(e)))return e;if(jt.address_map.addrs[e])t=jt.address_map.addrs[e];else{var n=jt.address_map.id++;P(n<65535,"exceeded max address mappings of 65535"),t="172.29."+(255&n)+"."+(65280&n),jt.address_map.names[t]=e,jt.address_map.addrs[e]=t}return t},lookup_addr:function(e){return jt.address_map.names[e]?jt.address_map.names[e]:null}};function Ht(e,t,r){if(r&&0===e)return null;var n=Tt(e,t);if(n.errno)throw new vt.ErrnoError(n.errno);return n.addr=jt.lookup_addr(n.addr)||n.addr,n}function Mt(e,t,r){if(v)return xr(5,1,e,t,r);var n=St(e),i=Ht(t,r);return n.sock_ops.bind(n,i.addr,i.port),0}function Ft(e,t,r){if(v)return xr(6,1,e,t,r);var n=St(e),i=Ht(t,r);return n.sock_ops.connect(n,i.addr,i.port),0}function Ut(e,t,r,n){if(v)return xr(7,1,e,t,r,n);we("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM")}function Pt(e,t,r){return v?xr(8,1,e,t,r):(qe.varargs=r,0)}function Lt(e,t){if(v)return xr(9,1,e,t);we("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM")}function Ot(e,t,r){if(v)return xr(10,1,e,t,r);we("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM")}function Dt(e,t,r){if(v)return xr(11,1,e,t,r);we("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM")}function xt(e,t,r,n,a){switch(t){case 2:r=Ct(r),Ye(e,16),a&&(o()[a>>>2]=16),i()[e>>>1]=t,o()[e+4>>>2]=r,i()[e+2>>>1]=Hn(n);break;case 10:r=It(r),Ye(e,28),a&&(o()[a>>>2]=28),o()[e>>>2]=t,o()[e+8>>>2]=r[0],o()[e+12>>>2]=r[1],o()[e+16>>>2]=r[2],o()[e+20>>>2]=r[3],i()[e+2>>>1]=Hn(n);break;default:return 5}return 0}function Nt(e,t,r){if(v)return xr(12,1,e,t,r);var n=St(e);return n.daddr?(P(!xt(t,n.family,jt.lookup_name(n.daddr),n.dport,r)),0):-53}function Wt(e,t,r,n,i){if(v)return xr(13,1,e,t,r,n,i);var a=St(e);return 1===t&&4===r?(o()[n>>>2]=a.error,o()[i>>>2]=4,a.error=null,0):-50}function Bt(e,t,r){return v?xr(14,1,e,t,r):(qe.varargs=r,0)}function Yt(e,t){if(v)return xr(15,1,e,t);we("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM")}function Xt(e,t,r){if(v)return xr(16,1,e,t,r);we("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM")}function qt(e,t,r,n){if(v)return xr(17,1,e,t,r,n);we("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM")}function zt(e,t,r,n){if(v)return xr(18,1,e,t,r,n);qe.varargs=n,we("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM")}function Gt(e,t,r,i,a,o){if(v)return xr(19,1,e,t,r,i,a,o);var s=St(e),l=s.sock_ops.recvmsg(s,r);return l?(a&&P(!xt(a,s.family,jt.lookup_name(l.addr),l.port,o)),n().set(l.buffer,t>>>0),l.buffer.byteLength):0}function Kt(e,t,r,n){if(v)return xr(20,1,e,t,r,n);we("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM")}function $t(e){if(v)return xr(21,1,e);we("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM")}function Vt(e,t,r,n,i,a){if(v)return xr(22,1,e,t,r,n,i,a);we("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM")}function Jt(e,t,r){if(v)return xr(23,1,e,t,r);we("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM")}function Qt(e,t){if(v)return xr(24,1,e,t);we("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM")}function Zt(e,t,r){if(v)return xr(25,1,e,t,r);we("it should not be possible to operate on streams when !SYSCALLS_REQUIRE_FILESYSTEM")}function er(e){var t=new WebAssembly.Exception(et(),[e],{traceStack:!0});if(t.message=ot(t),t.stack){var r=t.stack.split("\n");r.splice(1,1),t.stack=r.join("\n")}throw t}function tr(){return 65536}var rr=!0;function nr(){return rr}function ir(){if(!oe())try{v?Pn(F):$e(F)}catch(e){Je(e)}}function ar(e){if(U)I("user callback triggered after runtime exited or application aborted.  Ignoring.");else try{e(),ir()}catch(e){Je(e)}}function or(e){if("function"==typeof Atomics.waitAsync){var t=Atomics.waitAsync(o(),e>>2,e);P(t.async),t.value.then(sr);var r=e+128;Atomics.store(o(),r>>2,1)}}function sr(){var e=Cn();e&&(or(e),ar((()=>On())))}function lr(e,t,r){if(e==t)setTimeout((()=>sr()));else if(v)postMessage({targetThread:e,cmd:"checkMailbox"});else{var n=Qe.pthreads[e];if(!n)return void I("Cannot send message to thread with ID "+e+", unknown thread ID!");n.postMessage({cmd:"checkMailbox"})}}function ur(e,t,r){return I("emscripten_set_offscreencanvas_size: Build with -sOFFSCREENCANVAS_SUPPORT=1 to enable transferring canvases to pthreads."),-1}d.__emscripten_thread_mailbox_await=or,d.checkMailbox=sr;var cr,dr={};function _r(e,t){if(v)return xr(26,1,e,t);if(dr[e]&&(clearTimeout(dr[e].id),delete dr[e]),!t)return 0;var r=setTimeout((()=>{P(e in dr),delete dr[e],ar((()=>Ln(e,cr())))}),t);return dr[e]={id:r,timeout_ms:t},0}function fr(){we("native code called abort()")}function hr(e){we(ht)}function pr(e,t){return globalThis.DUCKDB_RUNTIME.createDirectory(d,e,t)}function br(e,t){return globalThis.DUCKDB_RUNTIME.checkDirectory(d,e,t)}function mr(e,t){return globalThis.DUCKDB_RUNTIME.listDirectoryEntries(d,e,t)}function yr(e,t){return globalThis.DUCKDB_RUNTIME.removeDirectory(d,e,t)}function gr(e){return globalThis.DUCKDB_RUNTIME.closeFile(d,e)}function wr(e,t){return globalThis.DUCKDB_RUNTIME.checkFile(d,e,t)}function Er(e){return globalThis.DUCKDB_RUNTIME.getLastFileModificationTime(d,e)}function vr(e,t,r,n){return globalThis.DUCKDB_RUNTIME.moveFile(d,e,t,r,n)}function Sr(e,t){return globalThis.DUCKDB_RUNTIME.openFile(d,e,t)}function Ar(e,t,r,n){return globalThis.DUCKDB_RUNTIME.readFile(d,e,t,r,n)}function kr(e,t){return globalThis.DUCKDB_RUNTIME.truncateFile(d,e,t)}function Tr(e,t,r,n){return globalThis.DUCKDB_RUNTIME.writeFile(d,e,t,r,n)}function Cr(e){return globalThis.DUCKDB_RUNTIME.getDefaultDataProtocol(e)}function Rr(e,t){return globalThis.DUCKDB_RUNTIME.glob(d,e,t)}function Ir(e){return globalThis.DUCKDB_RUNTIME.testPlatformFeature(d,e)}function jr(e,t,r,n,i,a){return globalThis.DUCKDB_RUNTIME.callScalarUDF(d,e,t,r,n,i,a)}function Hr(){m||b||dt("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")}function Mr(e){P("number"==typeof e),console.error(q(e))}function Fr(){return Date.now()}function Ur(){ae+=1}function Pr(){throw Ur(),"unwind"}function Lr(){return 4294901760}function Or(e,t,r){n().copyWithin(e>>>0,t>>>0,t+r>>>0)}function Dr(){return m?w("os").cpus().length:navigator.hardwareConcurrency}function xr(e,t){var r=arguments.length-2,n=arguments,i=19;if(r>i)throw"emscripten_proxy_to_main_thread_js: Too many arguments "+r+" to proxied function idx="+e+", maximum supported is "+i;return it((()=>{for(var i=r,a=zn(8*i),o=a>>3,s=0;s<r;s++){var u=n[2+s];l()[o+s>>>0]=u}return Mn(e,i,a,t)}))}cr=m?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.timeOrigin+performance.now();var Nr=[];function Wr(e,t,r){Nr.length=t;for(var n=r>>3,i=0;i<t;i++)Nr[i]=l()[n+i>>>0];var a=Sn[e];return P(a.length==t,"Call args mismatch in emscripten_receive_on_main_thread_js"),a.apply(null,Nr)}function Br(e){var t=H.buffer;try{return H.grow(e-t.byteLength+65535>>>16),$(),1}catch(r){I("emscripten_realloc_buffer: Attempted to grow heap from "+t.byteLength+" bytes to "+e+" bytes, but got error: "+r)}}function Yr(e){var t=n().length;if((e>>>=0)<=t)return!1;var r,i=4294901760;if(e>i)return I("Cannot enlarge memory, asked to go up to "+e+" bytes, but the limit is "+i+" bytes!"),!1;for(var a=1;a<=4;a*=2){var o=t*(1+.2/a);o=Math.min(o,e+100663296);var s=Math.min(i,(r=Math.max(e,o))+(65536-r%65536)%65536);if(Br(s))return!0}return I("Failed to grow the heap from "+t+" bytes to "+s+" bytes, not enough memory!"),!1}var Xr={};function qr(){return f||"./this.program"}function zr(){if(!zr.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:qr()};for(var t in Xr)void 0===Xr[t]?delete e[t]:e[t]=Xr[t];var r=[];for(var t in e)r.push(t+"="+e[t]);zr.strings=r}return zr.strings}function Gr(e,t,n){for(var i=0;i<e.length;++i)P(e.charCodeAt(i)===(255&e.charCodeAt(i))),r()[t++>>>0]=e.charCodeAt(i);n||(r()[t>>>0]=0)}function Kr(e,t){if(v)return xr(27,1,e,t);var r=0;return zr().forEach((function(n,i){var a=t+r;s()[e+4*i>>>2]=a,Gr(n,a),r+=n.length+1})),0}function $r(e,t){if(v)return xr(28,1,e,t);var r=zr();s()[e>>>2]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),s()[t>>>2]=n,0}function Vr(e){if(v)return xr(29,1,e);we("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")}function Jr(e,t){if(v)return xr(30,1,e,t);var n=1==e||2==e?2:we();return r()[t>>>0]=n,0}function Qr(e,t,r,n,i,a){if(v)return xr(31,1,e,t,r,n,i,a);we("fd_pread called without SYSCALLS_REQUIRE_FILESYSTEM")}function Zr(e,t,r,n,i,a){if(v)return xr(32,1,e,t,r,n,i,a);we("fd_pwrite called without SYSCALLS_REQUIRE_FILESYSTEM")}function en(e,t,r,n){if(v)return xr(33,1,e,t,r,n);we("fd_read called without SYSCALLS_REQUIRE_FILESYSTEM")}function tn(e,t,r,n,i){return v?xr(34,1,e,t,r,n,i):70}function rn(e){if(v)return xr(35,1,e);we("fd_sync called without SYSCALLS_REQUIRE_FILESYSTEM")}var nn=[null,[],[]];function an(e,t){var r=nn[e];P(r),0===t||10===t?((1===e?R:I)(X(r,0)),r.length=0):r.push(t)}function on(){In(0),nn[1].length&&an(1,10),nn[2].length&&an(2,10)}function sn(e,t,r,i){if(v)return xr(36,1,e,t,r,i);for(var a=0,o=0;o<r;o++){var l=s()[t>>>2],u=s()[t+4>>>2];t+=8;for(var c=0;c<u;c++)an(e,n()[l+c>>>0]);a+=u}return s()[i>>>2]=a,0}function ln(e,t,r,n){if(v)return xr(37,1,e,t,r,n);var i,a=0,l=0,u=0,c=0,d=0,_=0;function f(e,t,r,n,i,a){var l,u,c;return u=10===e?28:16,i=10===e?kt(i):At(i),P(!xt(l=Dn(u),e,i,a)),c=Dn(32),o()[c+4>>>2]=e,o()[c+8>>>2]=t,o()[c+12>>>2]=r,o()[c+24>>>2]=n,s()[c+20>>>2]=l,o()[c+16>>>2]=10===e?28:16,o()[c+28>>>2]=0,c}if(r&&(u=o()[r>>>2],c=o()[r+4>>>2],d=o()[r+8>>>2],_=o()[r+12>>>2]),d&&!_&&(_=2===d?17:6),!d&&_&&(d=17===_?2:1),0===_&&(_=6),0===d&&(d=1),!e&&!t)return-2;if(-1088&u||0!==r&&2&o()[r>>>2]&&!e)return-1;if(32&u)return-2;if(0!==d&&1!==d&&2!==d)return-7;if(0!==c&&2!==c&&10!==c)return-6;if(t&&(t=q(t),l=parseInt(t,10),isNaN(l)))return 1024&u?-2:-8;if(!e)return 0===c&&(c=2),0==(1&u)&&(a=2===c?jn(2130706433):[0,0,0,1]),i=f(c,d,_,null,a,l),s()[n>>>2]=i,0;if(null!==(a=Ct(e=q(e))))if(0===c||2===c)c=2;else{if(!(10===c&&8&u))return-2;a=[0,0,jn(65535),a],c=10}else if(null!==(a=It(e))){if(0!==c&&10!==c)return-2;c=10}return null!=a?(i=f(c,d,_,e,a,l),s()[n>>>2]=i,0):4&u?-2:(a=Ct(e=jt.lookup_name(e)),0===c?c=2:10===c&&(a=[0,0,jn(65535),a]),i=f(c,d,_,null,a,l),s()[n>>>2]=i,0)}function un(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(m)try{var t=w("crypto");return()=>t.randomBytes(1)[0]}catch(e){}return()=>we("no cryptographic support found for randomDevice. consider polyfilling it if you want to use something insecure like Math.random(), e.g. put this in a --pre-js: var crypto = { getRandomValues: function(array) { for (var i = 0; i < array.length; i++) array[i] = (Math.random()*256)|0 } };")}function cn(e,t){cn.randomDevice||(cn.randomDevice=un());for(var n=0;n<t;n++)r()[e+n>>>0]=cn.randomDevice();return 0}function dn(e,t,r,n,i,a,o){var s=Tt(e,t);if(s.errno)return-6;var l=s.port,u=s.addr,c=!1;if(r&&n){var d;if(1&o||!(d=jt.lookup_addr(u))){if(8&o)return-2}else u=d;G(u,r,n)+1>=n&&(c=!0)}return i&&a&&G(l=""+l,i,a)+1>=a&&(c=!0),c?-12:0}function _n(e){return e%4==0&&(e%100!=0||e%400==0)}function fn(e,t){for(var r=0,n=0;n<=t;r+=e[n++]);return r}var hn=[31,29,31,30,31,30,31,31,30,31,30,31],pn=[31,28,31,30,31,30,31,31,30,31,30,31];function bn(e,t){for(var r=new Date(e.getTime());t>0;){var n=_n(r.getFullYear()),i=r.getMonth(),a=(n?hn:pn)[i];if(!(t>a-r.getDate()))return r.setDate(r.getDate()+t),r;t-=a-r.getDate()+1,r.setDate(1),i<11?r.setMonth(i+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return r}function mn(e,t,r){var n=r>0?r:K(e)+1,i=new Array(n),a=z(e,i,0,i.length);return t&&(i.length=a),i}function yn(e,t){P(e.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),r().set(e,t>>>0)}function gn(e,t,r,n){var i=o()[n+40>>>2],a={tm_sec:o()[n>>>2],tm_min:o()[n+4>>>2],tm_hour:o()[n+8>>>2],tm_mday:o()[n+12>>>2],tm_mon:o()[n+16>>>2],tm_year:o()[n+20>>>2],tm_wday:o()[n+24>>>2],tm_yday:o()[n+28>>>2],tm_isdst:o()[n+32>>>2],tm_gmtoff:o()[n+36>>>2],tm_zone:i?q(i):""},s=q(r),l={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var u in l)s=s.replace(new RegExp(u,"g"),l[u]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=["January","February","March","April","May","June","July","August","September","October","November","December"];function _(e,t,r){for(var n="number"==typeof e?e.toString():e||"";n.length<t;)n=r[0]+n;return n}function f(e,t){return _(e,t,"0")}function h(e,t){function r(e){return e<0?-1:e>0?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function p(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function b(e){var t=bn(new Date(e.tm_year+1900,0,1),e.tm_yday),r=new Date(t.getFullYear(),0,4),n=new Date(t.getFullYear()+1,0,4),i=p(r),a=p(n);return h(i,t)<=0?h(a,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var m={"%a":function(e){return c[e.tm_wday].substring(0,3)},"%A":function(e){return c[e.tm_wday]},"%b":function(e){return d[e.tm_mon].substring(0,3)},"%B":function(e){return d[e.tm_mon]},"%C":function(e){return f((e.tm_year+1900)/100|0,2)},"%d":function(e){return f(e.tm_mday,2)},"%e":function(e){return _(e.tm_mday,2," ")},"%g":function(e){return b(e).toString().substring(2)},"%G":function(e){return b(e)},"%H":function(e){return f(e.tm_hour,2)},"%I":function(e){var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),f(t,2)},"%j":function(e){return f(e.tm_mday+fn(_n(e.tm_year+1900)?hn:pn,e.tm_mon-1),3)},"%m":function(e){return f(e.tm_mon+1,2)},"%M":function(e){return f(e.tm_min,2)},"%n":function(){return"\n"},"%p":function(e){return e.tm_hour>=0&&e.tm_hour<12?"AM":"PM"},"%S":function(e){return f(e.tm_sec,2)},"%t":function(){return"\t"},"%u":function(e){return e.tm_wday||7},"%U":function(e){var t=e.tm_yday+7-e.tm_wday;return f(Math.floor(t/7),2)},"%V":function(e){var t=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);if((e.tm_wday+371-e.tm_yday-2)%7<=2&&t++,t){if(53==t){var r=(e.tm_wday+371-e.tm_yday)%7;4!=r&&(3!=r||!_n(e.tm_year))&&(t=1)}}else{t=52;var n=(e.tm_wday+7-e.tm_yday-1)%7;(4==n||5==n&&_n(e.tm_year%400-1))&&t++}return f(t,2)},"%w":function(e){return e.tm_wday},"%W":function(e){var t=e.tm_yday+7-(e.tm_wday+6)%7;return f(Math.floor(t/7),2)},"%y":function(e){return(e.tm_year+1900).toString().substring(2)},"%Y":function(e){return e.tm_year+1900},"%z":function(e){var t=e.tm_gmtoff,r=t>=0;return t=(t=Math.abs(t)/60)/60*100+t%60,(r?"+":"-")+String("0000"+t).slice(-4)},"%Z":function(e){return e.tm_zone},"%%":function(){return"%"}};for(var u in s=s.replace(/%%/g,"\0\0"),m)s.includes(u)&&(s=s.replace(new RegExp(u,"g"),m[u](a)));var y=mn(s=s.replace(/\0\0/g,"%"),!1);return y.length>t?0:(yn(y,e),y.length-1)}function wn(e,t,r,n,i){return gn(e,t,r,n)}function En(e){var t=d["_"+e];return P(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function vn(e,t,r,n,i){var a={string:e=>{var t=0;if(null!=e&&0!==e){var r=1+(e.length<<2);G(e,t=zn(r),r)}return t},array:e=>{var t=zn(e.length);return yn(e,t),t}},o=En(e),s=[],l=0;if(P("array"!==t,'Return type should not be "array".'),n)for(var u=0;u<n.length;u++){var c=a[r[u]];c?(0===l&&(l=Xn()),s[u]=c(n[u])):s[u]=n[u]}var d,_=o.apply(null,s);return d=_,0!==l&&qn(l),_=function(e){return"string"===t?q(e):"boolean"===t?Boolean(e):e}(d),_}Qe.init();var Sn=[null,Ge,nt,yt,wt,Mt,Ft,Ut,Pt,Lt,Ot,Dt,Nt,Wt,Bt,Yt,Xt,qt,zt,Gt,Kt,$t,Vt,Jt,Qt,Zt,_r,Kr,$r,Vr,Jr,Qr,Zr,en,tn,rn,sn,ln];function An(){Me("fetchSettings")}var kn={__assert_fail:_t,__call_sighandler:ft,__dlsym:pt,__emscripten_init_main_thread_js:bt,__emscripten_thread_cleanup:mt,__pthread_create_js:gt,__syscall__newselect:wt,__syscall_bind:Mt,__syscall_connect:Ft,__syscall_faccessat:Ut,__syscall_fcntl64:Pt,__syscall_fstat64:Lt,__syscall_ftruncate64:Ot,__syscall_getdents64:Dt,__syscall_getpeername:Nt,__syscall_getsockopt:Wt,__syscall_ioctl:Bt,__syscall_lstat64:Yt,__syscall_mkdirat:Xt,__syscall_newfstatat:qt,__syscall_openat:zt,__syscall_recvfrom:Gt,__syscall_renameat:Kt,__syscall_rmdir:$t,__syscall_sendto:Vt,__syscall_socket:Jt,__syscall_stat64:Qt,__syscall_unlinkat:Zt,__throw_exception_with_stack_trace:er,_emscripten_default_pthread_stack_size:tr,_emscripten_get_now_is_monotonic:nr,_emscripten_notify_mailbox_postmessage:lr,_emscripten_set_offscreencanvas_size:ur,_emscripten_thread_mailbox_await:or,_setitimer_js:_r,abort:fr,dlopen:hr,duckdb_web_fs_directory_create:pr,duckdb_web_fs_directory_exists:br,duckdb_web_fs_directory_list_files:mr,duckdb_web_fs_directory_remove:yr,duckdb_web_fs_file_close:gr,duckdb_web_fs_file_exists:wr,duckdb_web_fs_file_get_last_modified_time:Er,duckdb_web_fs_file_move:vr,duckdb_web_fs_file_open:Sr,duckdb_web_fs_file_read:Ar,duckdb_web_fs_file_truncate:kr,duckdb_web_fs_file_write:Tr,duckdb_web_fs_get_default_data_protocol:Cr,duckdb_web_fs_glob:Rr,duckdb_web_test_platform_feature:Ir,duckdb_web_udf_scalar_call:jr,emscripten_check_blocking_allowed:Hr,emscripten_console_error:Mr,emscripten_date_now:Fr,emscripten_exit_with_live_runtime:Pr,emscripten_get_heap_max:Lr,emscripten_get_now:cr,emscripten_memcpy_big:Or,emscripten_num_logical_cores:Dr,emscripten_receive_on_main_thread_js:Wr,emscripten_resize_heap:Yr,environ_get:Kr,environ_sizes_get:$r,exit:$e,fd_close:Vr,fd_fdstat_get:Jr,fd_pread:Qr,fd_pwrite:Zr,fd_read:en,fd_seek:tn,fd_sync:rn,fd_write:sn,getaddrinfo:ln,getentropy:cn,getnameinfo:dn,memory:H||d.wasmMemory,strftime_l:wn},Tn=(je(),ke("__wasm_call_ctors"),d._main=ke("main")),Cn=(d._duckdb_web_fs_glob_add_path=ke("duckdb_web_fs_glob_add_path"),d._duckdb_web_clear_response=ke("duckdb_web_clear_response"),d._duckdb_web_fail_with=ke("duckdb_web_fail_with"),d._duckdb_web_reset=ke("duckdb_web_reset"),d._duckdb_web_connect=ke("duckdb_web_connect"),d._duckdb_web_disconnect=ke("duckdb_web_disconnect"),d._duckdb_web_flush_files=ke("duckdb_web_flush_files"),d._duckdb_web_flush_file=ke("duckdb_web_flush_file"),d._duckdb_web_open=ke("duckdb_web_open"),d._duckdb_web_get_global_file_info=ke("duckdb_web_get_global_file_info"),d._duckdb_web_collect_file_stats=ke("duckdb_web_collect_file_stats"),d._duckdb_web_export_file_stats=ke("duckdb_web_export_file_stats"),d._duckdb_web_fs_drop_file=ke("duckdb_web_fs_drop_file"),d._duckdb_web_fs_drop_files=ke("duckdb_web_fs_drop_files"),d._duckdb_web_fs_glob_file_infos=ke("duckdb_web_fs_glob_file_infos"),d._duckdb_web_fs_get_file_info_by_id=ke("duckdb_web_fs_get_file_info_by_id"),d._duckdb_web_fs_get_file_info_by_name=ke("duckdb_web_fs_get_file_info_by_name"),d._duckdb_web_fs_register_file_url=ke("duckdb_web_fs_register_file_url"),d._duckdb_web_fs_register_file_buffer=ke("duckdb_web_fs_register_file_buffer"),d._duckdb_web_copy_file_to_buffer=ke("duckdb_web_copy_file_to_buffer"),d._duckdb_web_copy_file_to_path=ke("duckdb_web_copy_file_to_path"),d._duckdb_web_get_version=ke("duckdb_web_get_version"),d._duckdb_web_get_feature_flags=ke("duckdb_web_get_feature_flags"),d._duckdb_web_tokenize=ke("duckdb_web_tokenize"),d._duckdb_web_udf_scalar_create=ke("duckdb_web_udf_scalar_create"),d._duckdb_web_prepared_create=ke("duckdb_web_prepared_create"),d._duckdb_web_prepared_close=ke("duckdb_web_prepared_close"),d._duckdb_web_prepared_run=ke("duckdb_web_prepared_run"),d._duckdb_web_prepared_send=ke("duckdb_web_prepared_send"),d._duckdb_web_query_run=ke("duckdb_web_query_run"),d._duckdb_web_pending_query_start=ke("duckdb_web_pending_query_start"),d._duckdb_web_pending_query_poll=ke("duckdb_web_pending_query_poll"),d._duckdb_web_pending_query_cancel=ke("duckdb_web_pending_query_cancel"),d._duckdb_web_query_fetch_results=ke("duckdb_web_query_fetch_results"),d._duckdb_web_get_tablenames=ke("duckdb_web_get_tablenames"),d._duckdb_web_insert_arrow_from_ipc_stream=ke("duckdb_web_insert_arrow_from_ipc_stream"),d._duckdb_web_insert_csv_from_path=ke("duckdb_web_insert_csv_from_path"),d._duckdb_web_insert_json_from_path=ke("duckdb_web_insert_json_from_path"),d.__emscripten_tls_init=ke("_emscripten_tls_init"),d._pthread_self=function(){return(Cn=d._pthread_self=d.asm.pthread_self).apply(null,arguments)}),Rn=(ke("__errno_location"),ke("__dl_seterr"),d.__emscripten_thread_init=ke("_emscripten_thread_init")),In=(d.__emscripten_thread_crashed=ke("_emscripten_thread_crashed"),d._fflush=ke("fflush")),jn=ke("htonl"),Hn=ke("htons"),Mn=(ke("emscripten_main_runtime_thread_id"),ke("emscripten_main_thread_process_queued_calls"),ke("_emscripten_run_in_main_runtime_thread_js")),Fn=(ke("emscripten_dispatch_to_thread_"),ke("ntohs")),Un=ke("_emscripten_thread_free_data"),Pn=d.__emscripten_thread_exit=ke("_emscripten_thread_exit"),Ln=ke("_emscripten_timeout"),On=d.__emscripten_check_mailbox=ke("_emscripten_check_mailbox"),Dn=d._malloc=ke("malloc"),xn=d._free=ke("free"),Nn=function(){return(Nn=d.asm.emscripten_stack_get_end).apply(null,arguments)},Wn=function(){return(Wn=d.asm.__trap).apply(null,arguments)},Bn=function(){return(Bn=d.asm.emscripten_stack_init).apply(null,arguments)},Yn=function(){return(Yn=d.asm.emscripten_stack_set_limits).apply(null,arguments)},Xn=ke("stackSave"),qn=ke("stackRestore"),zn=ke("stackAlloc"),Gn=function(){return(Gn=d.asm.emscripten_stack_get_current).apply(null,arguments)},Kn=(d.___cxa_decrement_exception_refcount=ke("__cxa_decrement_exception_refcount"),d.___cxa_increment_exception_refcount=ke("__cxa_increment_exception_refcount"),d.___thrown_object_from_unwind_exception=ke("__thrown_object_from_unwind_exception")),$n=d.___get_exception_message=ke("__get_exception_message");d.dynCall_jiji=ke("dynCall_jiji"),d.dynCall_iiiiij=ke("dynCall_iiiiij"),d.dynCall_iiiiijj=ke("dynCall_iiiiijj"),d.dynCall_iiiiiijj=ke("dynCall_iiiiiijj"),d.dynCall_viijii=ke("dynCall_viijii"),d.dynCall_viij=ke("dynCall_viij"),d.dynCall_jiii=ke("dynCall_jiii"),d.dynCall_jii=ke("dynCall_jii"),d.dynCall_ji=ke("dynCall_ji"),d.dynCall_jij=ke("dynCall_jij"),d.dynCall_iiij=ke("dynCall_iiij"),d.dynCall_viji=ke("dynCall_viji"),d.dynCall_iij=ke("dynCall_iij"),d.dynCall_iiiiiji=ke("dynCall_iiiiiji"),d.dynCall_vij=ke("dynCall_vij"),d.dynCall_j=ke("dynCall_j"),d.dynCall_viijij=ke("dynCall_viijij"),d.dynCall_viiij=ke("dynCall_viiij"),d.dynCall_viiijj=ke("dynCall_viiijj"),d.dynCall_iiiji=ke("dynCall_iiiji"),d.dynCall_vjjijij=ke("dynCall_vjjijij"),d.dynCall_vijjji=ke("dynCall_vijjji"),d.dynCall_vjjii=ke("dynCall_vjjii"),d.dynCall_viiiiiji=ke("dynCall_viiiiiji"),d.dynCall_jiiiji=ke("dynCall_jiiiji"),d.dynCall_jiiij=ke("dynCall_jiiij"),d.dynCall_jijjij=ke("dynCall_jijjij"),d.dynCall_vijjj=ke("dynCall_vijjj"),d.dynCall_jiijii=ke("dynCall_jiijii"),d.dynCall_jijiii=ke("dynCall_jijiii"),d.dynCall_viijiiiii=ke("dynCall_viijiiiii"),d.dynCall_viijiiij=ke("dynCall_viijiiij"),d.dynCall_vijiiiji=ke("dynCall_vijiiiji"),d.dynCall_viiiij=ke("dynCall_viiiij"),d.dynCall_jiiji=ke("dynCall_jiiji"),d.dynCall_viiijij=ke("dynCall_viiijij"),d.dynCall_viijiij=ke("dynCall_viijiij"),d.dynCall_viiiiijj=ke("dynCall_viiiiijj"),d.dynCall_viiijji=ke("dynCall_viiijji"),d.dynCall_vijii=ke("dynCall_vijii"),d.dynCall_jiiiij=ke("dynCall_jiiiij"),d.dynCall_jj=ke("dynCall_jj"),d.dynCall_ij=ke("dynCall_ij"),d.dynCall_ijjj=ke("dynCall_ijjj"),d.dynCall_jjjd=ke("dynCall_jjjd"),d.dynCall_jjjjjjd=ke("dynCall_jjjjjjd"),d.dynCall_jijj=ke("dynCall_jijj"),d.dynCall_jiiiii=ke("dynCall_jiiiii"),d.dynCall_jiiii=ke("dynCall_jiiii"),d.dynCall_iiijj=ke("dynCall_iiijj"),d.dynCall_viijji=ke("dynCall_viijji"),d.dynCall_iiji=ke("dynCall_iiji"),d.dynCall_viiijiiiijj=ke("dynCall_viiijiiiijj"),d.dynCall_viiji=ke("dynCall_viiji"),d.dynCall_jiiiijj=ke("dynCall_jiiiijj"),d.dynCall_viijjj=ke("dynCall_viijjj"),d.dynCall_viiiji=ke("dynCall_viiiji"),d.dynCall_viiiiji=ke("dynCall_viiiiji"),d.dynCall_viijj=ke("dynCall_viijj"),d.dynCall_jijiiii=ke("dynCall_jijiiii"),d.dynCall_viiijiji=ke("dynCall_viiijiji"),d.dynCall_viijiji=ke("dynCall_viijiji"),d.keepRuntimeAlive=oe,d.wasmMemory=H,d.ccall=vn,d.ExitStatus=De,d.PThread=Qe;var Vn=["stringToNewUTF8","getHostByName","traverseStack","convertPCtoSourceLocation","readEmAsmArgs","jstoi_s","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","runtimeKeepalivePop","safeSetTimeout","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","HandleAllocator","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayToString","AsciiToString","stringToAscii","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","allocateUTF8","allocateUTF8OnStack","writeStringToMemory","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","checkWasiClock","createDyncallWrapper","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","makePromiseCallback","setMainLoop","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","emscriptenWebGLGet","computeUnpackAlignedImageSize","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","writeGLArray","SDL_unicode","SDL_ttfContext","SDL_audio","GLFW_Window","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate"];Vn.forEach(Pe);var Jn,Qn=["run","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createDataFile","FS_createPreloadedFile","FS_createLazyFile","FS_createLink","FS_createDevice","FS_unlink","out","err","callMain","abort","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","GROWABLE_HEAP_I8","GROWABLE_HEAP_U8","GROWABLE_HEAP_I16","GROWABLE_HEAP_U16","GROWABLE_HEAP_I32","GROWABLE_HEAP_U32","GROWABLE_HEAP_F32","GROWABLE_HEAP_F64","writeStackCookie","checkStackCookie","ptrToString","zeroMemory","exitJS","getHeapMax","emscripten_realloc_buffer","ENV","ERRNO_CODES","ERRNO_MESSAGES","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","DNS","Protocols","Sockets","getRandomDevice","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","jstoi_q","getExecutableName","handleException","runtimeKeepalivePush","callUserCallback","maybeExit","convertI32PairToI53Checked","getCFunc","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","intArrayFromString","UTF16Decoder","writeArrayToMemory","writeAsciiToMemory","SYSCALLS","getSocketFromFD","getSocketAddress","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","getEnvStrings","flush_NO_FILESYSTEM","dlopenMissingError","promiseMap","getExceptionMessageCommon","getCppExceptionTag","getCppExceptionThrownObjectFromWebAssemblyException","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","Browser","wget","tempFixedLengthArray","miniTempWebGLFloatBuffers","GL","AL","SDL","SDL_gfx","GLUT","EGL","GLFW","GLEW","IDBStore","terminateWorker","killThread","cleanupThread","registerTLSInit","cancelThread","spawnThread","exitOnMainThread","invokeEntryPoint","checkMailbox","SOCKFS","FS"];function Zn(){P(0==he,'cannot call main when async dependencies remain! (listen on Module["onRuntimeInitialized"])'),P(0==ee.length,"cannot call main when preRun functions remain to be called");var e=Tn;try{var t=e(0,0);return Ke(t,!0),t}catch(e){return Je(e)}}function ei(){P(!v),Bn(),Q()}function ti(){if(!(he>0)){if(v||ei(),v)return u(d),le(),void startWorker(d);se(),he>0||(d.setStatus?(d.setStatus("Running..."),setTimeout((function(){setTimeout((function(){d.setStatus("")}),1),e()}),1)):e(),Z())}function e(){Jn||(Jn=!0,d.calledRun=!0,!U&&(le(),ue(),u(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),ni&&Zn(),ce()))}}function ri(){var e=R,t=I,r=!1;R=I=e=>{r=!0};try{on()}catch(e){}R=e,I=t,r&&(dt("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the FAQ), or make sure to emit a newline when you printf etc."),dt("(this may also be due to not including full filesystem support - try building with -sFORCE_FILESYSTEM)"))}if(Qn.forEach(Le),be=function e(){Jn||ti(),Jn||(be=e)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var ni=!0;return d.noInitialRun&&(ni=!1),ti(),t.ready}})(),Mt=Ga})),Pn=jt(((exports,module)=>{(function(){var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD="function"==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(r){return new Sha256(t,!0).update(r)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createOutputMethod(n,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(r,n){return new HmacSha256(r,t,!0).update(n)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,r){return t.create(e).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createHmacOutputMethod(n,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,r){var n,i=typeof e;if("string"===i){var a,o=[],s=e.length,l=0;for(n=0;n<s;++n)(a=e.charCodeAt(n))<128?o[l++]=a:a<2048?(o[l++]=192|a>>6,o[l++]=128|63&a):a<55296||a>=57344?(o[l++]=224|a>>12,o[l++]=128|a>>6&63,o[l++]=128|63&a):(a=65536+((1023&a)<<10|1023&e.charCodeAt(++n)),o[l++]=240|a>>18,o[l++]=128|a>>12&63,o[l++]=128|a>>6&63,o[l++]=128|63&a);e=o}else{if("object"!==i)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var u=[],c=[];for(n=0;n<64;++n){var d=e[n]||0;u[n]=92^d,c[n]=54^d}Sha256.call(this,t,r),this.update(c),this.oKeyPad=u,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(e){if(!this.finalized){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var n,i,a=0,o=e.length,s=this.blocks;a<o;){if(this.hashed&&(this.hashed=!1,s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),t)for(i=this.start;a<o&&i<64;++a)s[i>>2]|=e[a]<<SHIFT[3&i++];else for(i=this.start;a<o&&i<64;++a)(n=e.charCodeAt(a))<128?s[i>>2]|=n<<SHIFT[3&i++]:n<2048?(s[i>>2]|=(192|n>>6)<<SHIFT[3&i++],s[i>>2]|=(128|63&n)<<SHIFT[3&i++]):n<55296||n>=57344?(s[i>>2]|=(224|n>>12)<<SHIFT[3&i++],s[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&n)<<SHIFT[3&i++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++a)),s[i>>2]|=(240|n>>18)<<SHIFT[3&i++],s[i>>2]|=(128|n>>12&63)<<SHIFT[3&i++],s[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&n)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=s[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,r,n,i,a,o,s,l,u=this.h0,c=this.h1,d=this.h2,_=this.h3,f=this.h4,h=this.h5,p=this.h6,b=this.h7,m=this.blocks;for(e=16;e<64;++e)t=((i=m[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,r=((i=m[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,m[e]=m[e-16]+t+m[e-7]+r<<0;for(l=c&d,e=0;e<64;e+=4)this.first?(this.is224?(a=300032,b=(i=m[0]-1413257819)-150054599<<0,_=i+24177077<<0):(a=704751109,b=(i=m[0]-210244248)-1521486534<<0,_=i+143694565<<0),this.first=!1):(t=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),n=(a=u&c)^u&d^l,b=_+(i=b+(r=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&h^~f&p)+K[e]+m[e])<<0,_=i+(t+n)<<0),t=(_>>>2|_<<30)^(_>>>13|_<<19)^(_>>>22|_<<10),n=(o=_&u)^_&c^a,p=d+(i=p+(r=(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7))+(b&f^~b&h)+K[e+1]+m[e+1])<<0,t=((d=i+(t+n)<<0)>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),n=(s=d&_)^d&u^o,h=c+(i=h+(r=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&b^~p&f)+K[e+2]+m[e+2])<<0,t=((c=i+(t+n)<<0)>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),n=(l=c&d)^c&_^s,f=u+(i=f+(r=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&p^~h&b)+K[e+3]+m[e+3])<<0,u=i+(t+n)<<0;this.h0=this.h0+u<<0,this.h1=this.h1+c<<0,this.h2=this.h2+d<<0,this.h3=this.h3+_<<0,this.h4=this.h4+f<<0,this.h5=this.h5+h<<0,this.h6=this.h6+p<<0,this.h7=this.h7+b<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,a=this.h5,o=this.h6,s=this.h7,l=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o];return this.is224||(l+=HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]),l},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,a=this.h5,o=this.h6,s=this.h7,l=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,a>>24&255,a>>16&255,a>>8&255,255&a,o>>24&255,o>>16&255,o>>8&255,255&o];return this.is224||l.push(s>>24&255,s>>16&255,s>>8&255,255&s),l},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&define((function(){return exports})))})()})),P={},Un="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;Un&&(Ht=Mn(),Ut=Ht.parentPort,Ut.on("message",(e=>Bt({data:e}))),Ot=In(),Object.assign(global,{self:global,require:ot,Module:P,location:{href:__filename},Worker:Ht.Worker,importScripts:function(e){(0,eval)(Ot.readFileSync(e,"utf8")+"//# sourceURL="+e)},postMessage:function(e){Ut.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}}));var Ht,Ut,Ot,Lt=!1;function Ka(e,t){e||abort("Assertion failed: "+t)}function za(){var e=Array.prototype.slice.call(arguments).join(" ");Un?Ot.writeSync(2,e+"\n"):console.error(e)}function qa(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:P._pthread_self()})}var qe=za;function Pt(e){try{if("load"===e.data.cmd){let t=[];self.onmessage=e=>t.push(e),self.startWorker=e=>{P=e,postMessage({cmd:"loaded"});for(let e of t)Pt(e);self.onmessage=Pt},P.wasmModule=e.data.wasmModule;for(let t of e.data.handlers)P[t]=function(){postMessage({cmd:"callHandler",handler:t,args:[...arguments]})};P.wasmMemory=e.data.wasmMemory,P.buffer=P.wasmMemory.buffer,P.workerID=e.data.workerID,P.ENVIRONMENT_IS_PTHREAD=!0,(e.data.urlOrBlob?Promise.resolve().then((()=>st(ot(e.data.urlOrBlob)))):Promise.resolve().then((()=>(It(),Hn)))).then((e=>e.default(P)))}else if("run"===e.data.cmd){P.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),P.__emscripten_thread_mailbox_await(e.data.pthread_ptr),Ka(e.data.pthread_ptr),P.establishStackSpace(),P.PThread.receiveObjectTransfer(e.data),P.PThread.threadInitTLS(),Lt||(Lt=!0);try{P.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(e){if("unwind"!=e)throw e;qe("Pthread 0x"+P._pthread_self().toString(16)+" completed its main entry point with an `unwind`, keeping the worker alive for asynchronous operation.")}}else"cancel"===e.data.cmd?P._pthread_self()&&P.__emscripten_thread_exit(-1):"setimmediate"===e.data.target||("checkMailbox"===e.data.cmd?Lt&&P.checkMailbox():e.data.cmd&&(qe("worker.js received unknown command "+e.data.cmd),qe(e.data)))}catch(e){throw qe("worker.js onmessage() captured an uncaught exception: "+e),e&&e.stack&&qe(e.stack),P.__emscripten_thread_crashed&&P.__emscripten_thread_crashed(),e}}self.alert=qa,P.instantiateWasm=(e,t)=>{var r=P.wasmModule;return P.wasmModule=null,t(new WebAssembly.Instance(r,e))},self.onunhandledrejection=e=>{var t;throw null!=(t=e.reason)?t:e},self.onmessage=Pt;var Bt=self.onmessage;function Ln(){return P}function On(e){P=e}It();var Ae=st(Pn()),Bn=function(e,t,r){var n;if(null!=(n=null==e?void 0:e.endpoint)&&n.startsWith("http")){let t=`${null==e?void 0:e.endpoint}`,r=t.indexOf("://")+3;return t.substring(r)}return null!=e&&e.endpoint?`${r}.${null==e?void 0:e.endpoint}`:`${r}.s3.amazonaws.com`};function $a(e,t,r){var n,i,a,o;let s=Nn(t);return{url:s.path,query:"",host:Bn(e,t,s.bucket),region:null!=(n=null==e?void 0:e.region)?n:"",service:"s3",method:r,accessKeyId:null!=(i=null==e?void 0:e.accessKeyId)?i:"",secretAccessKey:null!=(a=null==e?void 0:e.secretAccessKey)?a:"",sessionToken:null!=(o=null==e?void 0:e.sessionToken)?o:"",dateNow:(new Date).toISOString().replace(/-/g,"").split("T")[0],datetimeNow:(new Date).toISOString().replace(/-/g,"").replace(/:/g,"").split(".")[0]+"Z"}}function Ja(e,t=!1){let r="0123456789ABCDEF",n="";for(let i=0;i<e.length;i++){let a=e[i];a>="A"&&a<="Z"||a>="a"&&a<="z"||a>="0"&&a<="9"||"_"==a||"-"==a||"~"==a||"."==a?n+=a:"/"==a?n+=t?"%2F":a:(n+="%",n+=r[a.charCodeAt(0)>>4],n+=r[15&a.charCodeAt(0)])}return n}function Qa(e,t=null){var r;let n=null!=(r=null==t?void 0:t.contentHash)?r:"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",i=new Map;i.set("x-amz-date",e.datetimeNow),i.set("x-amz-content-sha256",n),e.sessionToken&&i.set("x-amz-security-token",e.sessionToken);let a="";null!=t&&t.contentType&&(a+="content-type;"),a+="host;x-amz-content-sha256;x-amz-date",e.sessionToken&&(a+=";x-amz-security-token");let o=e.method+"\n"+Ja(e.url)+"\n"+e.query;null!=t&&t.contentType&&(o+="\ncontent-type:"+(null==t?void 0:t.contentType)),o+="\nhost:"+e.host+"\nx-amz-content-sha256:"+n+"\nx-amz-date:"+e.datetimeNow,e.sessionToken&&e.sessionToken.length>0&&(o+="\nx-amz-security-token:"+e.sessionToken),o+="\n\n"+a+"\n"+n;let s=(0,Ae.sha256)(o),l="AWS4-HMAC-SHA256\n"+e.datetimeNow+"\n"+e.dateNow+"/"+e.region+"/"+e.service+"/aws4_request\n"+s,u="AWS4"+e.secretAccessKey,c=Ae.sha256.hmac.arrayBuffer(u,e.dateNow),d=Ae.sha256.hmac.arrayBuffer(c,e.region),_=Ae.sha256.hmac.arrayBuffer(d,e.service),f=Ae.sha256.hmac.arrayBuffer(_,"aws4_request"),h=Ae.sha256.hmac(f,l);return i.set("Authorization","AWS4-HMAC-SHA256 Credential="+e.accessKeyId+"/"+e.dateNow+"/"+e.region+"/"+e.service+"/aws4_request, SignedHeaders="+a+", Signature="+h),i}var Za=function(e,t,r,n=null,i=null){return Qa($a(e,t,r),{contentType:n,contentHash:i?Ae.sha256.hex(i):null})};function ge(e,t,r,n,i=null,a=null){((null==t?void 0:t.accessKeyId)||(null==t?void 0:t.sessionToken))&&(Za(t,r,n,i,a).forEach(((t,r)=>{e.setRequestHeader(r,t)})),i&&e.setRequestHeader("content-type",i))}function Nn(e){if(0!=e.indexOf("s3://"))throw new Error("URL needs to start with s3://");let t=e.indexOf("/",5);if(-1==t)throw new Error("URL needs to contain a '/' after the host");let r=e.substring(5,t);if(!r)throw new Error("URL needs to contain a bucket name");let n=e.substring(t);if(!n)throw new Error("URL needs to contain key");return{bucket:r,path:n}}function ve(e,t){var r;let n=Nn(t);return null!=(r=null==e?void 0:e.endpoint)&&r.startsWith("http")?`${null==e?void 0:e.endpoint}/${n.bucket}`+n.path:"https://"+Bn(e,t,n.bucket)+n.path}var Xn=new TextEncoder,Wn=new TextDecoder("utf-8");function Nt(e,t,r){let n=Xn.encode(r),i=e._malloc(n.byteLength),a=e.HEAPU8.subarray(i,i+n.byteLength);a.set(n),e.HEAPF64[0+(t>>3)]=1,e.HEAPF64[1+(t>>3)]=i,e.HEAPF64[2+(t>>3)]=a.byteLength}function Yt(e){switch(e){case"UINT8":case"INT8":return 1;case"INT32":case"FLOAT":return 4;case"INT64":case"UINT64":case"DOUBLE":case"VARCHAR":return 8;default:return 0}}function Wt(e,t,r,n){let i=e.HEAPU8.subarray(t,t+n*Yt(r));switch(r){case"UINT8":return new Uint8Array(i.buffer,i.byteOffset,n);case"INT8":return new Int8Array(i.buffer,i.byteOffset,n);case"INT32":return new Int32Array(i.buffer,i.byteOffset,n);case"FLOAT":return new Float32Array(i.buffer,i.byteOffset,n);case"DOUBLE":case"VARCHAR":return new Float64Array(i.buffer,i.byteOffset,n);default:return new Array(0)}}function Yn(e,t,r){let n=e.HEAPU8.subarray(t,t+r);return new Uint8Array(n.buffer,n.byteOffset,r)}function lt(e,t,r){let n=e.HEAPU8.subarray(t,t+8*r);return new Float64Array(n.buffer,n.byteOffset,r)}function Gn(e,t,r,n,i,a,o,s){try{let l=e._udfFunctions.get(n);if(!l)return void Nt(t,r,"Unknown UDF with id: "+n);let u=Wn.decode(t.HEAPU8.subarray(i,i+a)),c=JSON.parse(u),d=lt(t,o,s/8),_=e=>{var r;let n=null;switch(void 0!==e.validityBuffer&&(n=Yn(t,d[e.validityBuffer],c.rows)),e.physicalType){case"VARCHAR":{if(null===e.dataBuffer||void 0===e.dataBuffer)throw new Error("malformed data view, expected data buffer for VARCHAR argument");if(null===e.lengthBuffer||void 0===e.lengthBuffer)throw new Error("malformed data view, expected data length buffer for VARCHAR argument");let r=Wt(t,d[e.dataBuffer],e.physicalType,c.rows),i=[],a=lt(t,d[e.lengthBuffer],c.rows);for(let e=0;e<c.rows;++e){if(null!=n&&!n[e]){i.push(null);continue}let o=t.HEAPU8.subarray(r[e],r[e]+a[e]),s=Wn.decode(o);i.push(s)}return e=>i[e]}case"STRUCT":{let t={},i=[];for(let n=0;n<((null==(r=e.children)?void 0:r.length)||0);++n){let r=e.children[n],a=_(r);i.push((e=>{t[r.name]=a(e)}))}return null!=n?e=>{if(!n[e])return null;for(let t of i)t(e);return t}:e=>{for(let t of i)t(e);return t}}default:{if(void 0===e.dataBuffer)throw new Error("malformed data view, expected data buffer for argument of type: "+e.physicalType);let r=Wt(t,d[e.dataBuffer],e.physicalType,c.rows);return null!=n?e=>n[e]?r[e]:null:e=>r[e]}}},f=[];for(let e=0;e<c.args.length;++e)f.push(_(c.args[e]));let h=c.rows*Yt(c.ret.physicalType),p=t._malloc(h),b=Wt(t,p,c.ret.physicalType,c.rows),m=t._malloc(c.rows),y=Yn(t,m,c.rows);if(0==b.length||0==y.length)return void Nt(t,r,"Can't create physical arrays for result");let g=b;"VARCHAR"==c.ret.physicalType&&(g=new Array(c.rows));let w=[];for(let e=0;e<c.args.length;++e)w.push(null);for(let e=0;e<c.rows;++e){for(let t=0;t<c.args.length;++t)w[t]=f[t](e);let t=l.func(...w);g[e]=t,y[e]=null==t?0:1}let E=0;if("VARCHAR"===c.ret.physicalType){let e=new Array(0);E=t._malloc(c.rows*Yt("DOUBLE"));let r=lt(t,E,c.rows),n=0;for(let t=0;t<c.rows;++t){let i=Xn.encode(g[t]||"");e.push(i),r[t]=i.length,n+=i.length}let i=t._malloc(n),a=t.HEAPU8.subarray(i,i+n),o=0;for(let t=0;t<c.rows;++t){b[t]=o;let r=e[t];a.subarray(o,o+r.length).set(r),o+=r.length}}let v=24,S=t._malloc(v),A=lt(t,S,3);A[0]=p,A[1]=m,A[2]=E,t.HEAPF64[0+(r>>3)]=0,t.HEAPF64[1+(r>>3)]=S,t.HEAPF64[2+(r>>3)]=0}catch(e){Nt(t,r,e.toString())}}function to(){let e=new TextDecoder;return t=>(typeof SharedArrayBuffer<"u"&&t.buffer instanceof SharedArrayBuffer&&(t=new Uint8Array(t)),e.decode(t))}var ro=to();function be(e,t){console.error(`FAIL WITH: ${t}`),e.ccall("duckdb_web_fail_with",null,["string"],[t])}function ce(e,t,r){return ro(e.HEAPU8.subarray(t,t+r))}function Xt(e,t,r,n){let i=e.stackSave(),a=e.stackAlloc(24);r.unshift("number"),n.unshift(a),e.ccall(t,null,r,n);let o=e.HEAPF64[0+(a>>3)],s=e.HEAPF64[1+(a>>3)],l=e.HEAPF64[2+(a>>3)];return e.stackRestore(i),[o,s,l]}function Gt(e){e.ccall("duckdb_web_clear_response",null,[],[])}var I={_files:new Map,_fileInfoCache:new Map,_udfFunctions:new Map,_globalFileInfo:null,getFileInfo(e,t){try{let r=I._fileInfoCache.get(t),[n,i,a]=Xt(e,"duckdb_web_fs_get_file_info_by_id",["number","number"],[t,(null==r?void 0:r.cacheEpoch)||0]);if(0!==n)return null;if(0===a)return r;let o=ce(e,i,a);Gt(e);let s=JSON.parse(o);if(null==s)return null;let l={...s,blob:null};return I._fileInfoCache.set(t,l),l}catch(e){return null}},getGlobalFileInfo(e){var t;try{let[r,n,i]=Xt(e,"duckdb_web_get_global_file_info",["number"],[(null==(t=I._globalFileInfo)?void 0:t.cacheEpoch)||0]);if(0!==r)return null;if(0===i)return I._globalFileInfo;let a=ce(e,n,i);Gt(e);let o=JSON.parse(a);return null==o?null:(I._globalFileInfo={...o,blob:null},I._globalFileInfo)}catch(e){return null}},testPlatformFeature:(e,t)=>1===t?typeof BigInt64Array<"u":(console.warn(`test for unknown feature: ${t}`),!1),getDefaultDataProtocol:e=>2,openFile:(e,t,r)=>{var n;try{I._fileInfoCache.delete(t);let i=I.getFileInfo(e,t);switch(null==i?void 0:i.dataProtocol){case 4:case 5:{if(1&r&&2&r)throw new Error(`Opening file ${i.fileName} failed: cannot open file with both read and write flags set`);if(32&r)throw new Error(`Opening file ${i.fileName} failed: appending to HTTP/S3 files is not supported`);if(2&r){let t=new XMLHttpRequest;if(5==i.dataProtocol?(t.open("HEAD",ve(i.s3Config,i.dataUrl),!1),ge(t,i.s3Config,i.dataUrl,"HEAD")):t.open("HEAD",i.dataUrl,!1),t.send(null),200!=t.status&&404!=t.status)throw new Error(`Opening file ${i.fileName} failed: Unexpected return status from server (${t.status})`);if(404==t.status&&!(8&r||16&r))throw new Error(`Opening file ${i.fileName} failed: Cannot write to non-existent file without FILE_FLAGS_FILE_CREATE or FILE_FLAGS_FILE_CREATE_NEW flag.`);let n=e._malloc(1),a=new Uint8Array;e.HEAPU8.set(a,n);let o=e._malloc(16);return e.HEAPF64[0+(o>>3)]=1,e.HEAPF64[1+(o>>3)]=n,o}if(1!=r)throw new Error(`Opening file ${i.fileName} failed: unsupported file flags: ${r}`);let t=null,n=null;try{let r=new XMLHttpRequest;if(5==i.dataProtocol?(r.open("HEAD",ve(i.s3Config,i.dataUrl),!1),ge(r,i.s3Config,i.dataUrl,"HEAD")):r.open("HEAD",i.dataUrl,!1),r.setRequestHeader("Range","bytes=0-"),r.send(null),t=r.getResponseHeader("Content-Length"),null!==t&&206==r.status){let r=e._malloc(16);return e.HEAPF64[0+(r>>3)]=+t,e.HEAPF64[1+(r>>3)]=0,r}}catch(e){n=e,console.warn(`HEAD request with range header failed: ${e}`)}if(i.allowFullHttpReads){if(null!==t&&+t>1){let r=new XMLHttpRequest;5==i.dataProtocol?(r.open("GET",ve(i.s3Config,i.dataUrl),!1),ge(r,i.s3Config,i.dataUrl,"GET")):r.open("GET",i.dataUrl,!1),r.setRequestHeader("Range","bytes=0-0"),r.send(null);let n=r.getResponseHeader("Content-Length");if(206==r.status&&null!==n&&1==+n){let r=e._malloc(16);return e.HEAPF64[0+(r>>3)]=+t,e.HEAPF64[1+(r>>3)]=0,r}if(200==r.status&&null!==n&&+n==+t){console.warn(`fall back to full HTTP read for: ${i.dataUrl}`);let t=e._malloc(r.response.byteLength),n=new Uint8Array(r.response,0,r.response.byteLength);e.HEAPU8.set(n,t);let a=e._malloc(16);return e.HEAPF64[0+(a>>3)]=r.response.byteLength,e.HEAPF64[1+(a>>3)]=t,a}}console.warn(`falling back to full HTTP read for: ${i.dataUrl}`);let r=new XMLHttpRequest;if(5==i.dataProtocol?(r.open("GET",ve(i.s3Config,i.dataUrl),!1),ge(r,i.s3Config,i.dataUrl,"GET")):r.open("GET",i.dataUrl,!1),r.responseType="arraybuffer",r.send(null),200==r.status){let t=e._malloc(r.response.byteLength),n=new Uint8Array(r.response,0,r.response.byteLength);e.HEAPU8.set(n,t);let i=e._malloc(16);return e.HEAPF64[0+(i>>3)]=r.response.byteLength,e.HEAPF64[1+(i>>3)]=t,i}}if(null!=n)throw new Error(`Reading file ${i.fileName} failed with error: ${n}`);return 0}case 2:{let t=null==(n=I._files)?void 0:n.get(i.fileName);if(t){let r=e._malloc(16);return e.HEAPF64[0+(r>>3)]=t.size,e.HEAPF64[1+(r>>3)]=0,r}console.warn(`Buffering missing file: ${i.fileName}`);let r=e._malloc(16),a=e._malloc(1);return e.HEAPF64[0+(r>>3)]=1,e.HEAPF64[1+(r>>3)]=a,r}}}catch(t){console.error(t.toString()),be(e,t.toString())}return 0},glob:(e,t,r)=>{try{let n=ce(e,t,r);if(n.startsWith("http")||n.startsWith("s3://")){let t=new XMLHttpRequest;if(n.startsWith("s3://")){let r=I.getGlobalFileInfo(e);t.open("HEAD",ve(null==r?void 0:r.s3Config,n),!1),ge(t,null==r?void 0:r.s3Config,n,"HEAD")}else t.open("HEAD",n,!1);if(t.send(null),200!=t.status&&206!==t.status)return void be(e,`HEAD request failed: ${n}`);e.ccall("duckdb_web_fs_glob_add_path",null,["string"],[n])}}catch(t){return be(e,t.toString()),0}},checkFile:(e,t,r)=>{try{let n=ce(e,t,r);if(n.startsWith("http")||n.startsWith("s3://")){let t=new XMLHttpRequest;if(n.startsWith("s3://")){let r=I.getGlobalFileInfo(e);t.open("HEAD",ve(null==r?void 0:r.s3Config,n),!1),ge(t,null==r?void 0:r.s3Config,n,"HEAD")}else t.open("HEAD",n,!1);return t.send(null),206==t.status||200==t.status}}catch(e){return!1}return!1},syncFile:(e,t)=>{},closeFile:(e,t)=>{var r;let n=I.getFileInfo(e,t);switch(I._fileInfoCache.delete(t),null==n?void 0:n.dataProtocol){case 0:case 4:case 5:break;case 1:case 2:return;case 3:{let e=null==(r=I._files)?void 0:r.get(n.fileName);if(!e)throw new Error(`No OPFS access handle registered with name: ${n.fileName}`);return e.flush()}}},truncateFile:(e,t,r)=>{var n;let i=I.getFileInfo(e,t);switch(null==i?void 0:i.dataProtocol){case 4:return void be(e,"Cannot truncate a http file");case 5:return void be(e,"Cannot truncate an s3 file");case 0:case 1:case 2:return void be(e,"truncateFile not implemented");case 3:{let e=null==(n=I._files)?void 0:n.get(i.fileName);if(!e)throw new Error(`No OPFS access handle registered with name: ${i.fileName}`);return e.truncate(r)}}return 0},readFile(e,t,r,n,i){var a,o;try{let s=I.getFileInfo(e,t);switch(null==s?void 0:s.dataProtocol){case 4:case 5:if(!s.dataUrl)throw new Error(`Missing data URL for file ${t}`);try{let t=new XMLHttpRequest;if(5==s.dataProtocol?(t.open("GET",ve(null==s?void 0:s.s3Config,s.dataUrl),!1),ge(t,null==s?void 0:s.s3Config,s.dataUrl,"GET")):t.open("GET",s.dataUrl,!1),t.responseType="arraybuffer",t.setRequestHeader("Range",`bytes=${i}-${i+n-1}`),t.send(null),206==t.status||200==t.status&&n==t.response.byteLength&&0==i){let i=new Uint8Array(t.response,0,Math.min(t.response.byteLength,n));return e.HEAPU8.set(i,r),i.byteLength}if(200==t.status){console.warn(`Range request for ${s.dataUrl} did not return a partial response: ${t.status} "${t.statusText}"`);let a=new Uint8Array(t.response,i,Math.min(t.response.byteLength-i,n));return e.HEAPU8.set(a,r),a.byteLength}throw new Error(`Range request for ${s.dataUrl} did returned non-success status: ${t.status} "${t.statusText}"`)}catch(e){throw new Error(`Range request for ${s.dataUrl} failed with error: ${e}"`)}case 2:{let t=null==(a=I._files)?void 0:a.get(s.fileName);if(!t)throw new Error(`No HTML5 file registered with name: ${s.fileName}`);let o=t.slice(i,i+n),l=new Uint8Array((new FileReaderSync).readAsArrayBuffer(o));return e.HEAPU8.set(l,r),l.byteLength}case 3:{let t=null==(o=I._files)?void 0:o.get(s.fileName);if(!t)throw new Error(`No OPFS access handle registered with name: ${s.fileName}`);let a=e.HEAPU8.subarray(r,r+n);return t.read(a,{at:i})}}return 0}catch(t){return be(e,t.toString()),0}},writeFile:(e,t,r,n,i)=>{var a;let o=I.getFileInfo(e,t);switch(null==o?void 0:o.dataProtocol){case 4:return be(e,"Cannot write to HTTP file"),0;case 5:{let t=e.HEAPU8.subarray(r,r+n),i=new XMLHttpRequest;return i.open("PUT",ve(null==o?void 0:o.s3Config,o.dataUrl),!1),ge(i,null==o?void 0:o.s3Config,o.dataUrl,"PUT","",t),i.send(t),n}case 2:return be(e,"cannot write using the html5 file reader api"),0;case 3:{let t=null==(a=I._files)?void 0:a.get(o.fileName);if(!t)throw new Error(`No OPFS access handle registered with name: ${o.fileName}`);let s=e.HEAPU8.subarray(r,r+n);return t.write(s,{at:i})}}return 0},getLastFileModificationTime:(e,t)=>{var r;let n=I.getFileInfo(e,t);switch(null==n?void 0:n.dataProtocol){case 2:if(!(null==(r=I._files)?void 0:r.get(n.fileName)))throw Error(`No handle available for file: ${n.fileName}`);return 0;case 4:case 5:return(new Date).getTime()}return 0},checkDirectory:(e,t,r)=>{let n=ce(e,t,r);return console.log(`checkDirectory: ${n}`),!1},createDirectory:(e,t,r)=>{let n=ce(e,t,r);console.log(`createDirectory: ${n}`)},removeDirectory:(e,t,r)=>{let n=ce(e,t,r);console.log(`removeDirectory: ${n}`)},listDirectoryEntries:(e,t,r)=>{let n=ce(e,t,r);return console.log(`listDirectoryEntries: ${n}`),!1},moveFile:(e,t,r,n,i)=>{var a,o;let s=ce(e,t,r),l=ce(e,n,i),u=null==(a=I._files)?void 0:a.get(s);void 0!==u&&(I._files.delete(u),I._files.set(l,u));for(let[e,t]of(null==(o=I._fileInfoCache)?void 0:o.entries())||[])if(t.dataUrl==s){I._fileInfoCache.delete(e);break}return!0},removeFile:(e,t,r)=>{},callScalarUDF:(e,t,r,n,i,a,o)=>{Gn(I,e,t,r,n,i,a,o)}};globalThis.DUCKDB_RUNTIME={};for(let e of Object.getOwnPropertyNames(I))"constructor"!=e&&(globalThis.DUCKDB_RUNTIME[e]=Object.getOwnPropertyDescriptor(I,e).value);globalThis.onmessage=e=>{if("load"===e.data.cmd){let t=Ln();t.wasmModule=e.data.wasmModule,t.wasmMemory=e.data.wasmMemory,t.buffer=t.wasmMemory.buffer,t.ENVIRONMENT_IS_PTHREAD=!0,Mt(t).then((function(e){On(e)}))}else if("registerFileHandle"===e.data.cmd)globalThis.DUCKDB_RUNTIME._files=globalThis.DUCKDB_RUNTIME._files||new Map,globalThis.DUCKDB_RUNTIME._files.set(e.data.fileName,e.data.fileHandle);else if("dropFileHandle"===e.data.cmd)globalThis.DUCKDB_RUNTIME._files=globalThis.DUCKDB_RUNTIME._files||new Map,globalThis.DUCKDB_RUNTIME._files.delete(e.data.fileName);else if("registerUDFFunction"===e.data.cmd)globalThis.DUCKDB_RUNTIME._udfFunctions=globalThis.DUCKDB_RUNTIME._files||new Map,globalThis.DUCKDB_RUNTIME._udfFunctions.set(e.data.udf.name,e.data.udf);else if("dropUDFFunctions"===e.data.cmd){globalThis.DUCKDB_RUNTIME._udfFunctions=globalThis.DUCKDB_RUNTIME._files||new Map;for(let t of globalThis.DUCKDB_RUNTIME._udfFunctions.keys())globalThis.DUCKDB_RUNTIME._udfFunctions.get(t).connection_id==e.data.connectionId&&globalThis.DUCKDB_RUNTIME._udfFunctions.delete(t)}else Bt(e)}})();